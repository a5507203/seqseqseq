<!DOCTYPE html>
<html lang=“en“>
    
<head>

    <meta charset=“UTF-8“>
    <meta name=“viewport“ content=“width=device-width, initial-scale=1.0“>
    <title>Learn & Explore - Quiz-Gated Metroidvania</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    text-align: center;
}

#game-container {
    margin: 20px auto;
    padding: 20px;
    border: 2px solid #333;
    background-color: #fff;
    width: 300px;
    border-radius: 10px;
}

.gate {
    margin: 10px;
    padding: 10px;
    background-color: #ccc;
    border-radius: 5px;
}

.hidden {
    display: none;
}

#quiz-orb {
    margin-top: 20px;
}
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Learn & Explore</h1>
        <div id="map">
            <div class="gate" id="fire-gate">Fire Gate</div>
            <div class="gate" id="ice-gate">Ice Gate</div>
            <div class="gate" id="high-wall">High Wall</div>
        </div>
        <div id="quiz-orb" class="hidden">
            <h2>Quiz Time!</h2>
            <div id="quiz-questions"></div>
            <button id="submit-quiz">Submit Answers</button>
        </div>
        <div id="message"></div>
    </div>
    <script>
        const quizData = {
    fireBlast: [
        { question: “What is 2 + 2?“, options: [“A) 3“, “B) 4“, “C) 5“, “D) 6“], answer: “B“ },
        { question: “Who discovered America?“, options: [“A) Columbus“, “B) Magellan“, “C) Cook“, “D) Vespucci“], answer: “A“ },
        { question: “What is H2O?“, options: [“A) Water“, “B) Oxygen“, “C) Hydrogen“, “D) Helium“], answer: “A“ }
    ],
    iceDash: [
        { question: “What is 5 - 3?“, options: [“A) 1“, “B) 2“, “C) 3“, “D) 4“], answer: “B“ },
        { question: “What year did WW2 end?“, options: [“A) 1945“, “B) 1944“, “C) 1939“, “D) 1950“], answer: “A“ },
        { question: “What is the chemical symbol for gold?“, options: [“A) Au“, “B) Ag“, “C) Pb“, “D) Fe“], answer: “A“ }
    ],
    doubleJump: [
        { question: “What is 10 / 2?“, options: [“A) 3“, “B) 4“, “C) 5“, “D) 6“], answer: “C“ },
        { question: “Who wrote 'Hamlet'?“, options: [“A) Dickens“, “B) Shakespeare“, “C) Twain“, “D) Austen“], answer: “B“ },
        { question: “What planet is known as the Red Planet?“, options: [“A) Earth“, “B) Mars“, “C) Jupiter“, “D) Venus“], answer: “B“ }
    ]
};

let unlockedAbilities = {
    fireBlast: false,
    iceDash: false,
    doubleJump: false
};

function showQuiz(ability) {
    const quizOrb = document.getElementById('quiz-orb');
    const quizQuestions = document.getElementById('quiz-questions');
    quizQuestions.innerHTML = '';

    quizData[ability].forEach((q, index) => {
        quizQuestions.innerHTML += `<div>
            <p>${q.question}</p>
            ${q.options.map(option => `<label><input type=“radio“ name=“q${index}“ value=“${option.charAt(0)}“> ${option}</label><br>`).join('')}
        </div>`;
    });

    quizOrb.classList.remove('hidden');
}

document.getElementById('submit-quiz').addEventListener('click', () => {
    const ability = Object.keys(unlockedAbilities).find(key => !unlockedAbilities[key]);
    const questions = quizData[ability];
    let correctAnswers = 0;

    questions.forEach((q, index) => {
        const selected = document.querySelector(`input[name=“q${index}“]:checked`);
        if (selected && selected.value === q.answer) {
            correctAnswers++;
        }
    });

    if (correctAnswers === questions.length) {
        unlockedAbilities[ability] = true;
        document.getElementById('message').innerText = `You unlocked the ${ability.replace(/([A-Z])/g, ' $1').trim()}!`;
        document.getElementById(`${ability}-gate`).style.backgroundColor = '#4CAF50'; // Change gate color to indicate unlocked
    } else {
        document.getElementById('message').innerText = 'Try again!';
    }

    quizOrb.classList.add('hidden');
});

// Simulate collecting a quiz orb
document.querySelectorAll('.gate').forEach(gate => {
    gate.addEventListener('click', () => {
        if (!unlockedAbilities[gate.id.replace('-gate', '')]) {
            showQuiz(gate.id.replace('-gate', ''));
        } else {
            alert('This gate is already unlocked!');
        }
    });
});
    </script>
</body>
</html>